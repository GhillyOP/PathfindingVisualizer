(this.webpackJsonppath_finding_visualizer=this.webpackJsonppath_finding_visualizer||[]).push([[0],{16:function(e,t,n){},20:function(e,t,n){e.exports=n(32)},25:function(e,t,n){},26:function(e,t,n){},27:function(e,t,n){},32:function(e,t,n){"use strict";n.r(t);var o=n(0),a=n.n(o),i=n(12),r=n.n(i),s=(n(25),n(26),n(5)),c=n(6),d=n(9),u=n(8),l=n(13),h=n(10),p=(n(27),n(16),{VISITED:"visited",UNVISITED:"unvisited",WALL:"wall",SHORTESTPATH:"shortestPath"}),v=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(d.a)(this,Object(u.a)(t).call(this,e))).state={nodeState:p.UNVISITED,isStart:!1,isEnd:!1},n}return Object(h.a)(t,e),Object(c.a)(t,[{key:"shouldComponentUpdate",value:function(e){var t=this.props.nodeState!==e.nodeState,n=this.props.isStart!==e.isStart,o=this.props.isEnd!==e.isEnd;return t||n||o}},{key:"render",value:function(){var e=this.props,t=e.row,n=e.col,o=e.onMouseDown,i=e.onMouseEnter,r=e.onMouseUp;return this.props.isStart?a.a.createElement("div",{id:"".concat(t,":").concat(n),onMouseUp:function(){return r()},onMouseDown:function(){return o()},onDragStart:this.preventDragHandler,className:"StartNode"}):this.props.isEnd?a.a.createElement("div",{id:"".concat(t,":").concat(n),onMouseUp:function(){return r()},onMouseDown:function(){return o()},onDragStart:this.preventDragHandler,className:"EndNode"}):this.state.nodeState===p.WALL?a.a.createElement("div",{id:"".concat(t,":").concat(n),onMouseUp:function(){return r()},onMouseDown:function(){return o()},onDragStart:this.preventDragHandler,className:"WallNode"}):this.state.nodeState===p.UNVISITED?a.a.createElement("div",{id:"".concat(t,":").concat(n),onMouseDown:function(){return o(t,n)},onMouseUp:function(){return r()},onMouseEnter:function(){return i(t,n)},onDragStart:this.preventDragHandler,className:"Node"}):this.state.nodeState===p.VISITED?a.a.createElement("div",{id:"".concat(t,":").concat(n),onMouseUp:function(){return r()},onMouseDown:function(){return o()},onMouseEnter:function(){return i(t,n)},onDragStart:this.preventDragHandler,className:"VisitedNode"}):this.state.nodeState===p.SHORTESTPATH?a.a.createElement("div",{id:"".concat(t,":").concat(n),onMouseUp:function(){return r()},onMouseDown:function(){return o()},onMouseEnter:function(){return i(t,n)},onDragStart:this.preventDragHandler,className:"ShortestPathNode"}):a.a.createElement("div",null,"no such state")}}],[{key:"getDerivedStateFromProps",value:function(e){return{nodeState:e.nodeState,isStart:e.isStart,isEnd:e.isEnd}}}]),t}(o.Component),f=n(14),g=function(e,t,n,o){for(var a=[],i=0;i<e;i++){for(var r=[],s=0;s<t;s++)r.push(m(i,s,n,o));a.push(r)}return a},m=function(e,t,n,o){var a=!1,i=!1;return e===n.row&&t===n.col?a=!0:e===o.row&&t===o.col&&(i=!0),{row:e,col:t,isStart:a,isEnd:i,distance:1/0,gCost:0,hCost:0,closed:!1,previousNode:null,nodeState:p.UNVISITED}},w=function(e,t,n,o){var a=e[t][n],i=Object(f.a)({},a,{nodeState:o});return e[t][n]=i,e},N=function(e,t,n){for(var o=0;o<e.length;o++)for(var a=0;a<e[0].length;a++){var i=document.getElementById("".concat(o,":").concat(a));o!==t.row||a!==t.col?o!==n.row||a!==n.col?e[o][a].nodeState!==p.WALL&&(i.className="Node"):i.className="EndNode":i.className="StartNode"}},S=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(d.a)(this,Object(u.a)(t).call(this,e))).handleMouseDown=function(e,t){if(!n.isVisusualizing){var o=p.WALL;n.props.gridData[e][t].nodeState===p.WALL&&(o=p.UNVISITED),n.props.gridData[e][t].isStart?n.beginDragStart=!0:n.props.gridData[e][t].isEnd?n.beginDragEnd=!0:(n.tempGrid=w(n.props.gridData,e,t,o),n.setState({isMouseDown:!0}))}},n.handleMouseDownIntersect=function(){n.isVisusualizing||(n.tempGrid=n.props.gridData,n.setState({isMouseDown:!0}))},n.handleMouseLeave=function(){n.isVisusualizing||n.setState({isMouseDown:!1})},n.handleMouseEnter=function(e,t){if(!n.isVisusualizing&&n.state.isMouseDown){var o=document.getElementById("".concat(e,":").concat(t)),a=n.tempGrid;return n.beginDragStart?(o.className="StartNode",void(n.tempGrid=function(e,t,n,o){var a=e,i=a[t][n],r=Object(f.a)({},i,{isStart:!0});return a[t][n]=r,a[o.row][o.col].isStart=!1,document.getElementById("".concat(o.row,":").concat(o.col)).className="Node",o.row=t,o.col=n,a}(n.props.gridData,e,t,n.props.startNodeIndex))):n.beginDragEnd?(o.className="EndNode",void(n.tempGrid=function(e,t,n,o){var a=e,i=a[t][n],r=Object(f.a)({},i,{isEnd:!0});return a[t][n]=r,a[o.row][o.col].isEnd=!1,document.getElementById("".concat(o.row,":").concat(o.col)).className="Node",o.row=t,o.col=n,a}(n.props.gridData,e,t,n.props.endNodeIndex))):void(n.state.isMouseDown&&(o.className="WallNode",n.tempGrid=w(a,e,t,p.WALL)))}},n.preventDragHandler=function(e){e.preventDefault()},n.state={isMouseDown:!1},n}return Object(h.a)(t,e),Object(c.a)(t,[{key:"handleMouseUp",value:function(){this.isVisusualizing||this.state.isMouseDown&&(this.beginDragStart?this.beginDragStart=!1:this.beginDragEnd&&(this.beginDragEnd=!1),this.setState({isMouseDown:!1}),this.props.updateGrid(this.tempGrid),this.props.updateStartEndIndex(this.props.startNodeIndex,this.props.endNodeIndex))}},{key:"renderGrid",value:function(){var e=this;return a.a.createElement("div",{className:"GridContainer"},a.a.createElement("div",{className:"Grid",onDragStart:this.preventDragHandler,onMouseLeave:this.handleMouseLeave,onMouseUp:function(){return e.handleMouseUp()},onMouseDown:function(){return e.handleMouseDownIntersect()}},this.props.gridData.map((function(t,n){return a.a.createElement("div",{key:n},t.map((function(n,o){return a.a.createElement(v,{col:n.col,row:n.row,isStart:n.isStart,isEnd:n.isEnd,isWall:n.isWall,shouldUpdate:n.shouldUpdate,nodeState:n.nodeState,closed:n.closed,onMouseUp:function(){return e.handleMouseUp()},onMouseDown:function(){return e.handleMouseDown(n.row,n.col)},onMouseEnter:function(){return e.handleMouseEnter(n.row,n.col)},onMouseLeave:function(){return e.handleMouseLeave(n,t,n.col)},onDragStart:e.preventDragHandler,key:"".concat(n.row,":").concat(n.col)})})))}))))}},{key:"render",value:function(){return this.renderGrid()}}]),t}(o.Component),D=function(){function e(){Object(s.a)(this,e),this.heap=[],this.map=new Map}return Object(c.a)(e,[{key:"getMin",value:function(){return this.heap[0]}},{key:"getNodeAt",value:function(e){var t=this.map.get(e);return this.heap[t]}},{key:"isHeap",value:function(){for(var e=0;e<=(this.heap.length-2)/2;e++){if(this.heap[2*e+1]>this.heap[e])return!1;if(2*e+2<this.heap.length&&this.heap[2*e+2]>this.heap[e])return!1}return!0}},{key:"insert",value:function(e){this.heap.push(e),this.map.set("".concat(e.row,":").concat(e.col),e);for(var t=this.heap.length-1;t>0;){var n=this.heap[t];if(this.heap[Math.floor((t-1)/2)].distance<n.distance)break;this.swap(t,Math.floor((t-1)/2)),t=Math.floor((t-1)/2)}}},{key:"remove",value:function(){var e=this.heap[0];return this.map.delete("".concat(e.row,":").concat(e.col)),this.heap[0]=this.heap.pop(),this.sinkDown(0),e}},{key:"sinkDown",value:function(e){var t=2*e+1,n=2*e+2,o=e,a=this.heap.length;t<a&&this.heap[t].distance<this.heap[o].distance&&(o=t),n<a&&this.heap[n].distance<this.heap[o].distance&&(o=n),o!==e&&(this.swap(e,o),this.sinkDown(o))}},{key:"changeDistance",value:function(e,t){var n=this.map.get("".concat(e.row,":").concat(e.col));for(this.heap[n].distance=t;0!==n&&this.heap[n].distance<this.heap[Math.floor((n-1)/2)].distance;)this.swap(n,Math.floor((n-1)/2)),n=Math.floor((n-1)/2)}},{key:"setPreviousNode",value:function(e,t){var n=this.map.get("".concat(e.row,":").concat(e.col));this.heap[n].previousNode=t}},{key:"swap",value:function(e,t){var n=this.heap[e];this.heap[e]=this.heap[t],this.heap[t]=n,this.map.set("".concat(this.heap[e].row,":").concat(this.heap[e].col),e),this.map.set("".concat(this.heap[t].row,":").concat(this.heap[t].col),t)}}]),e}();function E(e,t,n){for(var o=0;o<e.length;o++)for(var a=0;a<e[0].length;a++)e[o][a].distance=0;var i=performance.now();t.distance=0;var r=new D,s=[];for(r.insert(t);r.map.size>0;){var c=r.remove();if(s.push(c),c===n){var d=performance.now();return console.log("AStar Took "+(d-i)+" milliseconds."),s}if(c.nodeState!==p.WALL){if(c.distance===1/0)return console.log("NO PATH"),s;for(var u=I(c,e),l=0;l<u.length;l++)if(!s.includes(u[l])&&u[l].nodeState!==p.WALL){var h=c.gCost+A(u[l],c);(void 0===r.getNodeAt("".concat(u[l].row,":").concat(u[l].col))||h<u[l].gCost)&&(u[l].previousNode=c,u[l].hCost=M(u[l],n),u[l].gCost=h,u[l].distance=u[l].gCost+u[l].hCost,void 0===r.getNodeAt("".concat(u[l].row,":").concat(u[l].col))?r.insert(u[l]):void 0!==r.getNodeAt("".concat(u[l].row,":").concat(u[l].col))&&r.changeDistance(u[l],u[l].distance))}}}return s}function I(e,t){var n=[];return e.row-1>=0&&n.push(t[e.row-1][e.col]),e.col+1<t[0].length&&n.push(t[e.row][e.col+1]),e.row+1<t.length&&n.push(t[e.row+1][e.col]),e.col-1>=0&&n.push(t[e.row][e.col-1]),n}var M=function(e,t){var n=Math.abs(e.row-t.row);return 9.9*(Math.abs(e.col-t.col)+n)},A=function(e,t){if(null===t.previousNode)return 10;var n=[t.previousNode.row-t.row,t.previousNode.col-t.col],o=[t.row-e.row,t.col-e.col];return n[0]===o[0]&&n[1]===o[1]?9:10};function k(e,t,n){var o=performance.now();t.distance=0;var a=new D;a=function(e){for(var t=new D,n=0;n<e.length;n++)for(var o=0;o<e[0].length;o++)t.insert(e[n][o]);return t}(e);for(var i=[];0!==a.length;){var r=a.remove(),s=x(r,a);if(r.nodeState!==p.WALL){if(r.distance===1/0)return console.log("NO PATH"),i;for(var c=0;c<s.length;c++){var d=r.distance+1;a.changeDistance(s[c],d),a.setPreviousNode(s[c],r)}if(r.closed=!0,i.push(r),r===n){var u=performance.now();return console.log("Dijkstra Took "+(u-o)+" milliseconds."),i}}}}function x(e,t){var n=[],o=t.getNodeAt("".concat(e.row-1,":").concat(e.col));void 0!==o&&n.push(o);var a=t.getNodeAt("".concat(e.row,":").concat(e.col+1));void 0!==a&&n.push(a);var i=t.getNodeAt("".concat(e.row+1,":").concat(e.col));void 0!==i&&n.push(i);var r=t.getNodeAt("".concat(e.row,":").concat(e.col-1));return void 0!==r&&n.push(r),n.filter((function(e){return!0!==e.closed}))}var y=n(7),b=n(17),T=[10,5],L=[10,30],z=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(d.a)(this,Object(u.a)(t).call(this,e))).updateGrid=function(e){n.setState({grid:e})},n.updateStartEndIndex=function(e,t){n.startNodeIndex=e,n.endNodeIndex=t},n.selectAlgorithm=function(e){"Dijkstra"===e&&n.setState({selectedAlgo:k,selectedAlgoName:"Dijkstra"}),"A*"===e&&n.setState({selectedAlgo:E,selectedAlgoName:"A*"})},n.state={selectedAlgo:k,selectedAlgoName:"Dijkstra",width:0,height:0,grid:[]},n.startNodeIndex={row:T[0],col:T[1]},n.endNodeIndex={row:L[0],col:L[1]},n.updateWindowDimensions=n.updateWindowDimensions.bind(Object(l.a)(n)),n}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.updateArrayLength(),window.addEventListener("resize",this.updateWindowDimensions);var e=g(this.rowCount,this.colCount,this.startNodeIndex,this.endNodeIndex);this.setState({selectedAlgo:k,selectedAlgoName:"Dijkstra"}),this.setState({grid:e})}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateWindowDimensions)}},{key:"updateWindowDimensions",value:function(){this.updateArrayLength();var e=g(this.rowCount,this.colCount,this.startNodeIndex,this.endNodeIndex);this.setState({grid:e,width:window.innerWidth,height:window.innerHeight})}},{key:"updateArrayLength",value:function(){this.nodeSize=24,this.rowCount=Math.floor((window.innerHeight-window.innerHeight/5)/this.nodeSize),this.colCount=Math.floor((window.innerWidth-window.innerWidth/18)/this.nodeSize),document.documentElement.style.setProperty("--nodeSize",this.nodeSize+"px")}},{key:"reset",value:function(){var e=g(this.rowCount,this.colCount,this.startNodeIndex,this.endNodeIndex);this.setState({grid:e}),N(this.state.grid,this.startNodeIndex,this.endNodeIndex),this.isVisusualizing=!1,clearTimeout(this.visitedAnimationTimeout),clearTimeout(this.shortestPathTimeout)}},{key:"executePathfinding",value:function(){if(!this.isVisusualizing){var e=function(e,t,n){for(var o=0;o<e.length;o++)for(var a=0;a<e[0].length;a++)e[o][a].nodeState===p.WALL?(e[o][a]=m(o,a,t,n),e[o][a].nodeState=p.WALL,e[o][a].closed=!1):e[o][a]=m(o,a,t,n);return e}(this.state.grid,this.startNodeIndex,this.endNodeIndex);N(e,this.startNodeIndex,this.endNodeIndex);var t=this.state.selectedAlgo(e,e[this.startNodeIndex.row][this.startNodeIndex.col],e[this.endNodeIndex.row][this.endNodeIndex.col]),n=function(e,t){for(var n=[],o=t;o!==e&&null!==o&&void 0!==o;)n.push(o),o=o.previousNode;return n.push(e),n.reverse()}(e[this.startNodeIndex.row][this.startNodeIndex.col],e[this.endNodeIndex.row][this.endNodeIndex.col]);this.visualize(t,n)}}},{key:"visualize",value:function(e,t){var n=this;if(this.isVisusualizing=!0,1!==e.length)for(var o=function(o){o===e.length-1&&(n.shortestPathTimeout=setTimeout((function(){null!==t&&n.visualizeShortestPath(t)}),5*o));var a=e[o].row,i=e[o].col,r=document.getElementById("".concat(a,":").concat(i));n.visitedAnimationTimeout=setTimeout((function(){e[o].nodeState=p.VISITED,r.className="VisitedNode"}),5*o)},a=1;a<e.length;a++)o(a);else this.isVisusualizing=!1}},{key:"visualizeShortestPath",value:function(e){var t=this,n=this.state.grid;if(this.isVisusualizing=!0,1!==e.length)for(var o=function(o){var a=e[o].row,i=e[o].col;n[a][i]=e[o];var r=document.getElementById("".concat(a,":").concat(i));setTimeout((function(){null!==r&&(e[o].nodeState=p.SHORTESTPATH,r.className="ShortestPathNode"),o===e.length-1&&(t.isVisusualizing=!1)}),40*o)},a=0;a<e.length;a++)o(a);else this.isVisusualizing=!1}},{key:"render",value:function(){var e=this;return a.a.createElement("div",{style:{height:"100vh"},className:"PathFindingVisualizer"},a.a.createElement("div",{className:"Header"},a.a.createElement("div",{className:"TitleContainer"},a.a.createElement("h1",{className:"TitleText"},"Pathfinding Visualizer")),a.a.createElement("div",{className:"DropDownContainer"},a.a.createElement(b.a,{id:"DropDown",title:"Pathfinding"},a.a.createElement(y.a.Item,{id:"MenuItem",onClick:function(){return e.selectAlgorithm("Dijkstra")}},"Dijkstra's Algorithm"),a.a.createElement(y.a.Item,{id:"MenuItem",onClick:function(){return e.selectAlgorithm("A*")},as:"button"},"A* Algorithm")),a.a.createElement("button",{className:"VisualizeButton",onClick:function(){return e.executePathfinding()}},"Visualize ",this.state.selectedAlgoName),a.a.createElement("button",{className:"ResetButton",onClick:function(){return e.reset()}},"Reset"))),a.a.createElement(S,{updateGrid:this.updateGrid,updateStartEndIndex:this.updateStartEndIndex,gridData:this.state.grid,startNodeIndex:this.startNodeIndex,endNodeIndex:this.endNodeIndex}))}}]),t}(o.Component);var j=function(){return a.a.createElement(z,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(31);r.a.render(a.a.createElement(j,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[20,1,2]]]);
//# sourceMappingURL=main.faadd266.chunk.js.map